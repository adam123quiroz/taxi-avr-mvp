[general]
static=yes
writeprotect=no

[globals]

[demo]
; Extensión para IA - Versión simplificada con test de audio
exten => 5001,1,NoOp(=== Llamada con IA ===)
exten => 5001,n,Answer()
exten => 5001,n,Wait(0.5)
; Test: Reproducir un beep para verificar que el audio funciona
exten => 5001,n,Playtones(1000)
exten => 5001,n,Wait(1)
exten => 5001,n,StopPlaytones()
; Generar UUID válido usando UNIQUEID del canal
exten => 5001,n,Set(UUID=${STRREPLACE(UNIQUEID,-,)})
exten => 5001,n,Set(UUID=${UUID:0:32})
exten => 5001,n,Set(CHANNEL(language)=es)
exten => 5001,n,NoOp(UUID: ${UUID})
exten => 5001,n,NoOp(Caller: ${CALLERID(num)})
exten => 5001,n,AudioSocket(${UUID},avr-core:5001)
exten => 5001,n,NoOp(=== Llamada finalizada ===)
exten => 5001,n,Hangup()



; Echo test
exten => 600,1,NoOp(=== Echo Test ===)
exten => 600,n,Answer()
exten => 600,n,Echo()
exten => 600,n,Hangup()
